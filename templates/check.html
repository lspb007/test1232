{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}巡检{% endblock %}
{% block custom_css %}
     <link href="{% static 'css/pricing.css' %}" rel="stylesheet" />
        <style>
        .hide{
           display:none;
         }
        .c1{
            position: fixed;
            left: 0;
            top:0;
            right: 0;
            bottom: 0;
            background-color: black;
            opacity: 0.6;
            z-index: 9 ;
        }
        .c2{
            width: 1000px;
            height: 800px;
            background-color: white;
            position: fixed;
            left: 20%;
            top:50%;
            margin-left: 250px;
            margin-top:-500px;
            z-index: 10;
        }

    </style>
{% endblock %}

{% block menu_active %}
<li>
<a  href="/"><i class="fa fa-dashboard "></i>首页</a>
</li>
<li>
<a class="active-menu" href="/check/"><i class="fa fa-eyedropper "></i>巡检</a>
</li>
<li>
<a href="#"><i class="fa fa-sitemap "></i>业务系统信息 <span class="fa arrow"></span></a>
 <ul class="nav nav-second-level">
    <li>
        <a href="#"><i class="fa fa-bicycle "></i>内网系统</a>
    </li>
     <li>
        <a href="#"><i class="fa fa-flask "></i>门户系统</a>
    </li>
    <li>
        <a href="#"><i class="fa fa-flask "></i>LDAP系统</a>

    </li>
     <li>
        <a href="#"><i class="fa fa-flask "></i>统一认证平台</a>

    </li>
</ul>
</li>
<li>
<a href="/checksysinfo/"><i class="fa fa-eyedropper "></i>最新系统状态</a>
</li>
<li>
<a href="/checkdevinfo/"><i class="fa fa-eyedropper "></i>最新服务器状态</a>
</li>
{% endblock %}




{% block page-wrapper %}
             <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                        <h1 class="page-head-line">日常巡检</h1>
                        <h1 class="page-subhead-line">This is dummy text , you can replace it with your original text. </h1>

                    </div>
                        <div class="row text-center pad-row">
                            {% for systems in all_system %}
                <div class="col-md-3">
                    <div class="panel-info simple-table">
                        <div class="panel-heading">
                            <h4><strong> {{ systems.name }}</strong></h4>
                        </div>
                        <div class="alert alert-info">

                            <ul class="plan" >
                                <li ><strong ><a target="_blank" href="{{ systems.address }}">{{ systems.address }}</a></strong ></li>
                                <li>服务器<strong>{{ systems.resourceinfo_set.count }}</strong>台</li>
                                <li>负责人：<strong>{{ systems.admin }}</strong> </li>
{#                                   {% for row in chech_t %}#}


{#                                <li>最后巡检时间：<strong>{{  systems.add_time }}</strong> </li>#}
{#                                         {% endfor %}#}
                            </ul>
{#                            <input type="button" value="巡检"  onclick="ShowModel();" href="#" class="btn btn-danger "></input>#}
                           <a target="_blank" value="巡检" href="/detail/?nid={{ systems.id }}" class="btn btn-danger ">巡检</a>
{#                            <a href="{% url 'check_home'{{ systems.id  }} %}">#}
                        </div>

                    </div>
                </div>
                            {% endfor %}


            </div>

                     <!--遮罩层开始 -->
                            <div id="i1"class="c1 hide" ></div>
                    <!--遮罩层结束 -->
                    <!--弹出框开始 -->

                            <dev id="i2"class="c2 hide" >

   <div class="col-md-11">
                  <!--   Kitchen Sink -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            {{ systems.name }}
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>服务器名称</th>
                                            <th>IP</th>
                                            <th>CPU占用率(%)</th>
                                            <th>内存使用率(%)</th>
                                            <th>硬盘使用率(%)</th>
                                            <th>中间件</th>
                                            <th>数据库</th>
                                           <th> 故障描述</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>Mark</td>
                                            <td>Otto</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>Jacob</td>
                                            <td>Thornton</td>
                                            <td>@fat</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td>Larry</td>
                                            <td>the Bird</td>
                                            <td>@twitter</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                            <td>@mdo</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                                <input type="text" value="xitong">
                                <input type="text" value="xitong">
                                <input type="text" value="xitong">
                                <input type="" value="xitong">
                                <input textarea> </input textarea>


                               <p><input type="button" value="取消" onclick="HideModel();"></p>
                            <p><input type="button" value="确定"></p>

                    </div>
                     <!-- End  Kitchen Sink -->


    </div>
                    <!--弹出框结束 -->

  </dev>

                <!-- /. ROW  -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-info">
                            This is a free responsive admin under cc3.0 license, so you can use it for personal and commercial use.
                          <br />
                            Enjoy this admin and for more please keep looking <a href="http://www.binarytheme.com/" target="_blank">BinaryTheme.com</a>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /. PAGE INNER  -->
        </div>

{% endblock %}

{% block custom_js %}
        <script>
        function ShowModel() {
            document.getElementById('i1').classList.remove('hide')
            document.getElementById('i2').classList.remove('hide')
        }
                function HideModel() {
            document.getElementById('i1').classList.add('hide')
            document.getElementById('i2').classList.add('hide')
        }
    </script>
{% endblock %}


